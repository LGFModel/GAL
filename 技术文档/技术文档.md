
GAL电子商城
===================
* 以下接口无特殊说明，皆为 post 请求
* 无特殊说明，对应字段不能为空
* 返回格式均为 json
* err_no 为 0 均表示此操作成功
* 具体返回信息细节以接口返回为主
* 其他问题开发中碰到时在一起解决
* 完全实现前后端分离
* 看开发情况,选择是否增加 移动端

## 项目目的
提升技能 , 熟悉开发流程
## 项目开发三要素
* 功能少  
* 技术全  
* 质量高
## 用户模块
### 注册
接口地址:/home/user/register.html
提交参数:

| 参数名称        | 参数含义                     | 参数要求            |
| ----------- | ------------------------ | --------------- |
| username    | 用户名 ,类似于qq昵称,用于展示,并不用于登录 | 2~20位数汉字、字母、数字组合     |
| mobile      | 手机号码                     | 11位数字           |
| verify_code | 验证码                      | 6位数字            |
| pass_word    | 密码(前端验证+后端验证)                       | 6-32位,数字、字母、下划线 |

返回信息:

|参数名称 | 参数含义 |
|-----|----|
|err_no     |  是否成功|
|msg|成功时返回为空，失败返回具体信息|
|user_msg|用户信息 (用户user_id,phone_num)|

返回结果实例
1. 注册成功(用户信息返回什么待定)
{"err_no":0,"msg":{"user_id":1,"phone_num":"1388888888"}}
2. 注册失败
{"err_no":1,"msg":"失败信息"}
### 验证码下发接口
参考，杨定远老师的接口，可以用到 9 月30号，之后再说
### 登陆
接口地址 : /home/user/login.html
提交参数 :

| 参数含义 | 参数意义 | 参数要求|
|-----------|-----------|---------|
|phone_num|账号| 11位手机号|
|pass_word| 密码|6-32位,数字、字母|

返回信息:

| 参数含义 | 参数意义 | 
|-----------|----------|
|err_no | 是否成功，0 成功 ,其他数字失败|
|msg| 成功时发回为空，失败返回失败信息|
|user_msg | 用户信息|

返回信息实例:

1. 登陆成功
{"err_no":0,"user_msg":{"user_id":1,"phone_num":"1888888888",user_name:"我是谁"}}
2. 登陆失败
{"err_no":1,"msg":{"用户名、密码错误"}}

### 修改密码
接口地址:/home/user/changePwd.html
提交参数:

|参数名称|参数含义|参数要求|
|---------|----------|--------|
|user_name|用户名|2-20位字母数字组合|
|phon_num|手机号|11位数字|
|pass_word|密码|6~32位字母,数字组合|

返回信息

|参数名称 | 参数含义 |
|------------|-------------|
|err_no|是否成功,0代表成功,其他数字表示失败,具体失败信息参照 msg|
|msg|成功返回空,失败返回失败信息|

### 找回密码
借口地址 : /home/user/findPwd.html
提交参数:

|参数名称|参数含义|参数要求|
|-----------|----------|---------|
|phone_num|手机号|11位数字|
|verify_code|验证码|6位数字|

返回信息:

|参数名称|参数含义|
|------------|----------|
|err_no|是否成功,0成功 , 其他失败|
|msg | 成功返回空,失败返回失败信息|

### 用户头像上传
借口地址 : /home/user/uploadPortrait.html
提交参数:

|参数名称|参数含义|参数要求|
|---------|----------|---------|
|user_id|用户id|
|pic | 用户头像的Base64编码或者使用form表单提交file参数实现|备注:base64是一种常用的编码方式.建议百度看一下大概的含义与用法,实际上img标签的src属性就可以不写url,而直接写一个base64编码过的字符串就可以正常显示图片的.(信息抄自曲老板)|
返回信息同上
### 修改用户昵称
接口地址:/home/user/changeUsername.html
提交参数:

|参数名称|参数含义|参数要求|
|---------|------------|---------|
|user_id|用户id|
|user_name|要修改成为的用户名|6-32位数字,字母|
|返回信息:同上|

### 用户数据表大概结构

| 字段名称 | 字段含义 | 字段约束 |
|-----------|----------|------------|
|user_id | 用户id | 主键,无符号 int|
||phone_num | 手机号 | char(11) not null|
|portrait_url | 头像地址 | varchar(64)|
|user_name | 用户昵称 | not null,varchar(32)|
|add_time | 注册时间 | nut null,int(10)|
|last_time | 最后一次登录时间 | not null,int(10)|
|login_times | 总的登录次数 | nut null|
|status | 用户状态 | not null,default 0 ,tinyint 0 表示默认状态,1表示禁用|

## 收获地址模块
### 借口地址 : /home/address/show.html
提交参数
|参数名称|参数含义|参数要求
|---------|-------------|-------|
user_id | 用户 id

返回信息:
由于一个用户可能有多个收货地址,所以此处返回多级 json,具体以测试结果为主
| 参数名称 | 参数含义 | 
|----------|-------------|
err_no | 是否请求成功,0 表示成功,其他失败
msg | 成功返回为空,失败返回具体信息
address_id | 地址id
name | 收货人
phone | 收人联系方式
address | 收货地址
detail_address | 收货人详细地址
postal | 右边
is_default | 是否是默认地址

### 添加收货地址
接口地址:/home/address/add.html
### 编辑收货地址
接口地址:/home/address/edit.html
### 删除收货地址
接口地址; /home/address/delete.html

收货地址数据表大概结构
| 字段名称 | 字段含义 | 字段约束 |
| address_id | 收货地址id |主键 无符号 int |
| user_id | 用户 id | not null,无符号 int |
| name | 收货人姓名 | not null ,varchar(32) |
| phone | 收货人电话 | notnull,varchar(18).考虑固定电话以及用户添加特殊号码等问题,如138-8888-888等 |
| address | 收货地址省市区| 可以为空,网上找的省市区三级联动,应该都会有一个特殊的id标识用户的选择,这里应该记录的是对应的id值而不是具体的汉字.如100001可能代表北京市北京市朝阳区,在数据库中的记录应该为100001,而不是北京市北京市朝阳区( 待定 ) |
|detail_address | 收货地址 | not null , varchar(64) |
| postal | 收货地址邮编 | 可以为空 int(6) |
| is_default | 是否是默认地址 | tinyint 0 ,默认地址,1不是默认地址同一用户只能有一个默认地址

##  首页轮播图
轮播图,那就是轮播图,每张图片对应一个 url ,点击后直接可以跳转

## 订单模块
### 查看用户订单
接口地址 : /home/order/selet.html
提交参数 :  user_id 
提交方式 : get
返回信息 :

|参数名称|参数含义|
|---------|---------|
| goods_type | 订单状态(待支付,代发货,已发货,待评价...) | 
| page | 页码 |
| goods_num | 订单数量 |

### 查看订单详情
接口地址 : /home/order/select.html
提交参数 : 待定

### 确认订单
待定

### 取消顶戴
待定

### 确认收货
待定

### 评价顶戴
待定

#### 这个地方有点复杂,表啥的一起参考一下

## 商品分类模块
咋个分法 ?????????????

## 商品模块
### 商品搜索
接口地址 : /home/goods/search.html
请求参数 : key_words

### 商品列表
接口地址 : /home/goods/select.html
请求参数 :

| 参数名称 | 参数含义 | 参数要求 |
|----------|------------|----------|
| goods_type | 商品类型 | 可以为空 |
| page | 页码 | 可以为空,默认为 1 |
|page_num | 返回商品数量 | 可以为空,默认为 0|
| sort_name | 排序字段名称 | 可以为空 |
| sort_type | 排序类型(升序降序) | 可以为空,有sort_name时默认降序 |

### 商品详情
接口地址 : /home/goods/detail.html
请求参数 : goods_id
请求方式 : GET
### 商品秒杀
如果要做这个的话,需要一个秒杀页面,秒杀倒计时,以及理想状态下,高并发的处理,老师讲过redis处理高并发秒杀的思路,看情况吧添加吧.

## 购物车
加入购物车
提交参数:
userid,goodsid,goodsnum,goodsprice以及商品属性
### 购物车列表
### 购物车结算
### 立即购买
针对商品详情页

## 支付
参照支付宝流程,看看那个老师的支付宝的接口是否能用,不行考虑下微信
然后把支付成功的商品 订单,时间,价格,收货地址等存储到数据库
## 其他功能
### 意见反馈
### 收藏夹


#
===============
## 注意 : 以上信息大部分参考曲老板的文档 , 我自己有添加了很多字段已经请求 , 但是还有很多地方完善 , 发现问题请及时提出.....








